# I. Kh√°m ph√° ph∆∞∆°ng ph√°p ph√¢n t√≠ch ƒë·∫øm gi√° tr·ªã (value counts)
## 1. Ph∆∞∆°ng ph√°p ph√¢n t√≠ch ƒë·∫øm gi√° tr·ªã l√† g√¨?
Ph∆∞∆°ng ph√°p ƒë·∫øm gi√° tr·ªã (value counts) l√† ph∆∞∆°ng ph√°p si√™u hi·ªáu qu·∫£ trong ph√¢n t√≠ch d·ªØ li·ªáu. D√πng ƒë·ªÉ tr·∫£ l·ªùi cho c√¢u h·ªèi: " C√≥ bao nhi√™u l·∫ßn m·ªói gi√° tr·ªã xu·∫•t hi·ªán trong c·ªôt n√†y? "
V√≠ d·ª•: B·∫°n mu·ªën ƒë·∫øm xem trong m·ªôt l·ªõp c√≥ bao nhi√™u b·∫°n t√™n "An", "B√¨nh", "Long"....

## 2. D√πng value counts v·ªõi m·ª•c ƒë√≠ch g√¨?
## D√πng ƒë·ªÉ l√†m g√¨?

| M·ª•c ƒë√≠ch              | √ù nghƒ©a                                                                 |
|-----------------------|------------------------------------------------------------------------|
| Xem ph√¢n b·ªë d·ªØ li·ªáu   | V√≠ d·ª•: Gi·ªõi t√≠nh: Nam/N·ªØ bao nhi√™u ph·∫ßn trƒÉm                           |
| Ph√°t hi·ªán b·∫•t th∆∞·ªùng  | Ph√°t hi·ªán gi√° tr·ªã hi·∫øm xu·∫•t hi·ªán 1 l·∫ßn c√≥ th·ªÉ l√† l·ªói nh·∫≠p li·ªáu          |
| H·ªó tr·ª£ tr·ª±c quan h√≥a  | T·∫°o bi·ªÉu ƒë·ªì c·ªôt (bar chart) ho·∫∑c bi·ªÉu ƒë·ªì tr√≤n (pie chart)               |
| Ti·ªÅn x·ª≠ l√Ω d·ªØ li·ªáu    | Bi·∫øt c·ªôt n√†o n√™n m√£ h√≥a (encode) ho·∫∑c lo·∫°i b·ªè (drop) d·ªØ li·ªáu kh√¥ng c·∫ßn thi·∫øt |

##  3. Tr·∫£ l·ªùi c√¢u h·ªèi
D∆∞·ªõi ƒë√¢y l√† m·ªôt v√†i c√¢u h·ªèi m·∫´u d√πng ph∆∞∆°ng ph√°p ph√¢n t√≠ch ƒë·∫øm gi√° tr·ªã.
- üëâ Qu·ªëc gia c∆∞ tr√∫ ch√≠nh c·ªßa ph·∫ßn l·ªõn kh√°ch h√†ng l√† g√¨ ?
- üëâ Danh m·ª•c s·∫£n ph·∫©m n√†o c√≥ t·∫ßn su·∫•t b√°n h√†ng cao nh·∫•t ?
- üëâ X√°c ƒë·ªãnh 5 kh√°ch h√†ng h√†ng ƒë·∫ßu c√≥ s·ªë l·∫ßn mua l·∫°i nhi·ªÅu nh·∫•t ?
- üëâ Qu·∫£n l√Ω b√°n h√†ng n√†o c√≥ s·ªë l∆∞·ª£ng ƒë∆°n b√°n ƒë∆∞·ª£c nhi·ªÅu nh·∫•t ?
- üëâ Ai l√† 5 nh√¢n vi√™n b√°n h√†ng c√≥ s·ªë l∆∞·ª£ng ƒë∆°n b√°n nhi·ªÅu nh·∫•t ?
- üëâ Thi·∫øt b·ªã n√†o ƒë∆∞·ª£c s·ª≠ d·ª•ng ch·ªß y·∫øu ƒë·ªÉ th·ª±c hi·ªán vi·ªác mua h√†ng ?
- üëâ T√¨m c√°c th·ªëng k√™ m√¥ t·∫£ c·ªßa gi√° tr·ªã ƒë∆°n h√†ng, chi ph√≠ v√† ho√†n ti·ªÅn ?

Tr∆∞·ªõc khi tr·∫£ l·ªùi b·∫•t k·ª≥ c√¢u h·ªèi n√†o trong ph√¢n t√≠ch d·ªØ li·ªáu kh√°m ph√°, b·∫°n c·∫ßn hi·ªÉu r√µ lo·∫°i ph√¢n t√≠ch n√†o c·∫ßn th·ª±c hi·ªán ƒë·ªÉ ƒë∆∞a ra c√¢u tr·∫£ l·ªùi ch√≠nh x√°c nh·∫•t. ƒê·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu n·∫ßy, b·∫≠n c·∫ßn ph√¢n t√≠ch k·ªπ c√¢u h·ªèi c·ªßa m√¨nh, x√°c ƒë·ªãnh nh·ªØng ph∆∞∆°ng ph√°p ph√¢n t√≠ch ph√π h·ª£p v√† lo·∫°i b·ªè nh·ªØng ph∆∞·ªùng ph√°p kh√¥ng ph√π h·ª£p. Qua ƒë√≥, b·∫°n s·∫Ω l·ª±a ch·ªçn ƒë∆∞·ª£c nh·ªØng ph∆∞∆°ng ph√°p ph√¢n t√≠ch hi·ªáu qu·∫£ nh·∫•t, gi√∫p t√¨m ra c√¢u h·ªèi ƒë√∫ng v√† c√≥ c√°i nh√¨n s√¢u s·∫Øc v·ªÅ v·∫•n ƒë·ªÅ. 
H√£y c√πng t√¥i ph√¢n t√≠ch c√¢u h·ªèi: " Qu·ªëc gia c∆∞ tr√∫ ch√≠nh c·ªßa ph·∫ßn l·ªõn kh√°ch h√†ng l√† g√¨?
=> D·ª±a tr√™n c√¢u h·ªèi, n·∫øu th·ª±c hi·ªán ph√¢n t√≠ch t·∫ßn s·ªë, ta s·∫Ω nh·∫≠n ƒë∆∞·ª£c t·∫ßn su·∫•t xu·∫•t hi·ªán c·ªßa c√°c qu·ªëc gia ƒë√≥ trong b·ªô ƒë·ªØ li·ªáu. T·ª´ ƒë√≥, ch√∫ng ta c√≥ th·ªÉ x√°c ƒë·ªãnh ƒë∆∞·ª£c qu·ªëc gia xu·∫•t hi·ªán nhi·ªÅu nh·∫•t v√† ph·ªï bi·∫øn trong d·ªØ li·ªáu. 

- **C√¢u h·ªèi 1: Qu·ªëc gia c∆∞ tr√∫ ch√≠nh c·ªßa ph·∫ßn l·ªõn kh√°ch h√†ng l√† g√¨ ?**

**B∆∞·ªõc 1**: Ph√¢n t√≠ch t·∫ßn s·ªë c√°c gi√° tr·ªã trong c·ªôt "country"
```
frequency_counts = final_df['country'].value_counts()
```
Sau ƒë√≥ nh·∫≠p ``` frequency_counts ``` ƒë·ªÉ ki·ªÉm tra k·∫øt qu·∫£ tr·∫£ v·ªÅ.

<img width="347" alt="image" src="https://github.com/user-attachments/assets/e369e0d4-7956-4262-b796-d3dfaa1b3d3f" />

K·∫øt qu·∫£ cho th·∫•y "Portugal" l√† n∆∞·ªõc c√≥ l∆∞·ª£ng kh√°ch nhi·ªÅu nh·∫•t.

**B∆∞·ªõc 2**: Tr·ª±c quan h√≥a k·∫øt qu·∫£ tr√™n bi·ªÉu ƒë·ªì c·ªôt.

```
import matplotlib.pyplot as plt

# V·∫Ω bi·ªÉu ƒë·ªì c·ªôt cho t·∫ßn s·ªë
plt.figure(figsize=(8, 5))
frequency_counts.plot(kind='bar', color='skyblue', edgecolor='black')
plt.title('Qu·ªëc gia c∆∞ tr√∫ ch√≠nh c·ªßa ph·∫ßn l·ªõn kh√°ch h√†ng')
plt.xlabel('Country')
plt.ylabel('Frequency')
plt.xticks(rotation=90)  # Xoay nh√£n tr·ª•c x n·∫øu c·∫ßn
plt.show()
```
K·∫øt qu·∫£ tr·∫£ v·ªÅ theo d·∫°ng bi·ªÉu ƒë·ªì c·ªôt nh∆∞ sau.

<img width="347" alt="image" src="https://github.com/user-attachments/assets/c08c99df-2c40-47a0-b6a9-dd19443884db" />

- **C√¢u h·ªèi 2: Danh m·ª•c s·∫£n ph·∫©m n√†o c√≥ t·∫ßn su·∫•t b√°n h√†ng cao nh·∫•t ?**

D·ª±a tr√™n c√¢u h·ªèi, n·∫øu th·ª±c hi·ªán ph√¢n t√≠ch t·∫ßn s·ªë, ta s·∫Ω nh·∫≠n ƒë∆∞·ª£c t·∫ßn su·∫•t xu·∫•t hi·ªán c·ªßa c√°c danh m·ª•c s·∫£n ph·∫©m trong b·ªô d·ªØ li·ªáu. T·ª´ ƒë√≥, ch√∫ng ta c√≥ th·ªÉ x√°c ƒë·ªãnh ƒë∆∞·ª£c *danh m·ª•c s·∫£n ph·∫©m* b√°n h√†ng nhi·ªÅu nh·∫•t ho·∫∑c ph·ªï bi·∫øn nh·∫•t trong d·ªØ li·ªáu.

**B∆∞·ªõc 1**: Ph√¢n t√≠ch t·∫ßn s·ªë c√°c gi√° tr·ªã trong c·ªôt "category"
```
category_counts = final_df['category'].value_counts()
```
Sau ƒë√≥ nh·∫≠p ``` category_counts ``` ƒë·ªÉ ki·ªÉm tra k·∫øt qu·∫£ tr·∫£ v·ªÅ.

<img width="347" alt="image" src="https://github.com/user-attachments/assets/137773ec-a2de-44c3-8a4e-6621d7b6313f" />

K·∫øt qu·∫£ cho th·∫•y "Book, Appliances, Games, Clothing" l√† nh·ªØng danh m·ª•c s·∫£n ph·∫©m c√≥ t·∫ßn su·∫•t b√°n h√†ng cao nh·∫•t.

**B∆∞·ªõc 2**: Tr·ª±c quan h√≥a k·∫øt qu·∫£ tr√™n bi·ªÉu ƒë·ªì c·ªôt.

```
import matplotlib.pyplot as plt

# V·∫Ω bi·ªÉu ƒë·ªì c·ªôt cho t·∫ßn s·ªë
plt.figure(figsize=(8, 5))
category_counts.plot(kind='bar', color='yellow', edgecolor='orange')
plt.title('Danh m·ª•c s·∫£n ph·∫©m c√≥ t·∫ßn su·∫•t b√°n h√†ng cao nh·∫•t')
plt.xlabel('Category')
plt.ylabel('Frequency')
plt.xticks(rotation=90)  # Xoay nh√£n tr·ª•c x n·∫øu c·∫ßn
plt.show()
```
K·∫øt qu·∫£ tr·∫£ v·ªÅ theo d·∫°ng bi·ªÉu ƒë·ªì c·ªôt nh∆∞ sau.

<img width="347" alt="image" src="https://github.com/user-attachments/assets/b910eae2-d3b9-4706-a002-bb0867a1c3b4" />

- **C√¢u h·ªèi 3: X√°c ƒë·ªãnh 5 kh√°ch h√†ng ƒë·∫ßu c√≥ s·ªë l·∫ßn mua l·∫°i nhi·ªÅu nh·∫•t**

D·ª±a tr√™n c√¢u h·ªèi, n·∫øu th·ª±c hi·ªán ph√¢n t√≠ch t·∫ßn s·ªë, ta s·∫Ω nh·∫≠n ƒë∆∞·ª£c t·∫ßn su·∫•t xu·∫•t hi·ªán c·ªßa c√°c danh m·ª•c s·∫£n ph·∫©m trong b·ªô d·ªØ li·ªáu. T·ª´ ƒë√≥, ch√∫ng ta c√≥ th·ªÉ x√°c ƒë·ªãnh ƒë∆∞·ª£c *danh m·ª•c s·∫£n ph·∫©m* b√°n h√†ng nhi·ªÅu nh·∫•t ho·∫∑c ph·ªï bi·∫øn nh·∫•t trong d·ªØ li·ªáu.

**B∆∞·ªõc 1**: Ph√¢n t√≠ch t·∫ßn s·ªë c√°c gi√° tr·ªã trong c·ªôt "customer_name"
```
customer_counts = final_df['customer_name'].value_counts()
```
Sau ƒë√≥ nh·∫≠p ``` customer_counts ``` ƒë·ªÉ ki·ªÉm tra k·∫øt qu·∫£ tr·∫£ v·ªÅ.

<img width="347" alt="image" src="https://github.com/user-attachments/assets/7fa2347a-b6c4-48d3-a047-c28deeea8098" />

K·∫øt qu·∫£ cho th·∫•y "Hessel-Stiedemann, Goldner-Dibbert, Gislason-Stanton, Schoen-Keeling, Farrell, Swaniawski and Crist" l√† nh·ªØng danh m·ª•c s·∫£n ph·∫©m c√≥ t·∫ßn su·∫•t b√°n h√†ng cao nh·∫•t.

**B∆∞·ªõc 2**: Tr·ª±c quan h√≥a k·∫øt qu·∫£ tr√™n bi·ªÉu ƒë·ªì c·ªôt.

```
import matplotlib.pyplot as plt

# V·∫Ω bi·ªÉu ƒë·ªì c·ªôt cho t·∫ßn s·ªë
plt.figure(figsize=(8, 5))
customer_counts.plot(kind='bar', color='green', edgecolor='black')
plt.title('Danh m·ª•c 5 kh√°ch h√†ng ƒë·∫ßu c√≥ s·ªë l·∫ßn mua l·∫°i nhi·ªÅu nh·∫•t')
plt.xlabel('Category')
plt.ylabel('Frequency')
plt.xticks(rotation=90)  # Xoay nh√£n tr·ª•c x n·∫øu c·∫ßn
plt.show()
```
K·∫øt qu·∫£ tr·∫£ v·ªÅ theo d·∫°ng bi·ªÉu ƒë·ªì c·ªôt nh∆∞ sau.

<img width="347" alt="image" src="https://github.com/user-attachments/assets/5be5bc10-3461-4798-825d-63358b5af132" />

- **C√¢u h·ªèi 4: Thi·∫øt b·ªã n√†o ƒë∆∞·ª£c s·ª≠ d·ª•ng ch·ªß y·∫øu ƒë·ªÉ th·ª±c hi·ªán vi·ªác mua h√†ng?**

D·ª±a tr√™n c√¢u h·ªèi, n·∫øu th·ª±c hi·ªán ph√¢n t√≠ch t·∫ßn s·ªë, ta x√°c ƒë·ªãnh ƒë∆∞·ª£c *thi·∫øt b·ªã* ƒë∆∞·ª£c s·ª≠ d·ª•ng ch·ªß y·∫øu ƒë·ªÉ mua h√†ng l√† thi·∫øt b·ªã g√¨?
**B∆∞·ªõc 1**: Ph√¢n t√≠ch t·∫ßn s·ªë c√°c gi√° tr·ªã trong c·ªôt "device_type"
```
device_type_counts = final_df['device_type'].value_counts()
```
Sau ƒë√≥ nh·∫≠p ``` device_type_counts ``` ƒë·ªÉ ki·ªÉm tra k·∫øt qu·∫£ tr·∫£ v·ªÅ.

<img width="347" alt="image" src="https://github.com/user-attachments/assets/cda772a8-19dd-49d8-8507-c42587983d51" />

K·∫øt qu·∫£ cho th·∫•y "PC, mobile, tablet" l√† nh·ªØng danh m·ª•c s·∫£n ph·∫©m c√≥ t·∫ßn su·∫•t b√°n h√†ng cao nh·∫•t.

**B∆∞·ªõc 2**: Tr·ª±c quan h√≥a k·∫øt qu·∫£ tr√™n bi·ªÉu ƒë·ªì c·ªôt.

```
# T√≠nh t·ª∑ l·ªá ph·∫ßn trƒÉm
devtype_percentages = (device_type_counts / device_type_counts.sum()) * 100

# V·∫Ω bi·ªÉu ƒë·ªì tr√≤n cho t·ª∑ l·ªá ph·∫ßn trƒÉm
plt.figure(figsize=(6, 6))
plt.pie(devtype_percentages, labels=devtype_percentages.index, autopct='%1.1f%%', startangle=140)
plt.title('Category Percentages')
plt.axis('equal')  # ƒê·∫£m b·∫£o bi·ªÉu ƒë·ªì tr√≤n hi·ªÉn th·ªã ƒë√∫ng t·ª∑ l·ªá
plt.show()
```
K·∫øt qu·∫£ tr·∫£ v·ªÅ theo d·∫°ng bi·ªÉu ƒë·ªì c·ªôt nh∆∞ sau.
<img width="347" alt="image" src="https://github.com/user-attachments/assets/005336b0-449f-42d3-9420-9a5f44eef2c4" />

---
# II. Kh√°m ph√° ph∆∞∆°ng ph√°p ph√¢n t√≠ch th·ªëng k√™ m√¥ t·∫£ (Descriptive statistics)
## 1. Ph√¢n t√≠ch th·ªëng k√™ m√¥ t·∫£ l√† g√¨?
- Ph∆∞∆°ng ph√°p ph√¢n t√≠ch th·ªëng k√™ m√¥ t·∫£ (descriptive statistics) l√† ki·ªÉu ph√¢n t√≠ch d√πng ƒë·ªÉ t√≥m t·∫Øt, m√¥ t·∫£ v√† tr√¨nh b√†y d·ªØ li·ªáu m·ªôt c√°ch ng·∫Øn g·ªçn, d·ªÖ hi·ªÉu. N√≥ gi√∫p b·∫°n hi·ªÉu r√µ ƒë·∫∑c ƒëi·ªÉm ch√≠nh c·ªßa d·ªØ li·ªáu nh∆∞ trung b√¨nh, ƒë·ªô l·ªách chu·∫©n, gi√° tr·ªã l·ªõn nh·∫•t, nh·ªè nh·∫•t, ph√¢n b·ªë d·ªØ li·ªáu, v.v.
- N√≥i ƒë∆°n gi·∫£n, th·ªëng k√™ m√¥ t·∫£ l√† c√°ch b·∫°n ƒë·∫øm, t√≠nh to√°n v√† m√¥ t·∫£ d·ªØ li·ªáu ƒë·ªÉ nh√¨n th·∫•y "b·ª©c tranh t·ªïng th·ªÉ" c·ªßa d·ªØ li·ªáu ƒë√≥ tr∆∞·ªõc khi ƒëi s√¢u ph√¢n t√≠ch ph·ª©c t·∫°p h∆°n.

## 2. M·ª•c ti√™u c·ªßa th·ªëng k√™ m√¥ t·∫£
- T√≥m t·∫Øt d·ªØ li·ªáu: Bi·∫øt ƒë∆∞·ª£c d·ªØ li·ªáu c√≥ bao nhi√™u m·∫´u (s·ªë l∆∞·ª£ng d√≤ng), trung b√¨nh bao nhi√™u, gi√° tr·ªã th·∫•p nh·∫•t v√† cao nh·∫•t l√† g√¨....
- Hi·ªÉu ƒë∆∞·ª£c ph√¢n b·ªë: xem d·ªØ li·ªáu t·∫≠p trung ·ªü ƒë√¢u? c√≥ b·ªã l·ªách v·ªÅ m·ªôt ph√≠a n√†o kh√¥ng?
- Ph√°t hi·ªán ngo·∫°i l·ªá (Outliers): c√≥ gi√° tr·ªã n√†o b·∫•t th∆∞·ªùng hay c·ª±c ƒëoan n√†o kh√¥ng?
- Gi√∫p ch·ªçn ƒë∆∞·ª£c ph∆∞∆°ng ph√°p ph√¢n t√≠ch ph√π h·ª£p: N·∫øu d·ªØ li·ªáu c√≥ nhi·ªÅu outliers th√¨ c√≥ th√™ ph·∫£i x·ª≠ l√Ω tr∆∞·ªõc khi ph√¢n t√≠ch. 

## 3. C√°c ch·ªâ s·ªë quan tr·ªçng trong th·ªëng k√™ m√¥ t·∫£

| Ch·ªâ s·ªë                     | √ù nghƒ©a                                                         |
|----------------------------|-----------------------------------------------------------------|
| **S·ªë l∆∞·ª£ng m·∫´u (Count)**    | T·ªïng s·ªë ƒëi·ªÉm d·ªØ li·ªáu c√≥ trong c·ªôt                                |
| **Trung b√¨nh (Mean)**        | Gi√° tr·ªã trung b√¨nh c·ªßa to√†n b·ªô d·ªØ li·ªáu                           |
| **Trung v·ªã (Median)**        | Gi√° tr·ªã ch√≠nh gi·ªØa khi d·ªØ li·ªáu ƒë∆∞·ª£c s·∫Øp x·∫øp                     |
| **M·ªët (Mode)**              | Gi√° tr·ªã xu·∫•t hi·ªán nhi·ªÅu nh·∫•t trong d·ªØ li·ªáu                       |
| **ƒê·ªô l·ªách chu·∫©n (Std Dev)**  | ƒêo l∆∞·ªùng m·ª©c ƒë·ªô ph√¢n t√°n c·ªßa d·ªØ li·ªáu quanh trung b√¨nh            |
| **Gi√° tr·ªã nh·ªè nh·∫•t (Min)**   | Gi√° tr·ªã th·∫•p nh·∫•t trong d·ªØ li·ªáu                                  |
| **Gi√° tr·ªã l·ªõn nh·∫•t (Max)**   | Gi√° tr·ªã cao nh·∫•t trong d·ªØ li·ªáu                                   |
| **Ph√¢n v·ªã (Percentiles)**    | C√°c ƒëi·ªÉm c·∫Øt d·ªØ li·ªáu th√†nh c√°c ph·∫ßn, v√≠ d·ª• 25%, 50% (median), 75%|

## 4. V√≠ d·ª• minh h·ªça v·ªÅ √Ω nghƒ©a

Gi·∫£ s·ª≠ b·∫°n c√≥ ƒëi·ªÉm s·ªë c·ªßa 100 h·ªçc sinh:  
- **Mean = 70**: Trung b√¨nh l·ªõp l√† 70 ƒëi·ªÉm  
- **Median = 75**: M·ªôt n·ª≠a l·ªõp ƒë·∫°t tr√™n 75 ƒëi·ªÉm  
- **Std Dev = 10**: ƒêi·ªÉm s·ªë dao ƒë·ªông kh√° l·ªõn, ph·∫ßn l·ªõn h·ªçc sinh n·∫±m trong kho·∫£ng 60-80 ƒëi·ªÉm (70 ¬± 10)  
- **Min = 40, Max = 95**: C√≥ b·∫°n th·∫•p nh·∫•t 40 ƒëi·ªÉm, b·∫°n cao nh·∫•t 95 ƒëi·ªÉm  

Nh·ªù ƒë√≥ b·∫°n hi·ªÉu ngay ƒë∆∞·ª£c m·ª©c ƒë·ªô ph√¢n b·ªë ƒëi·ªÉm v√† bi·∫øt l·ªõp h·ªçc c√≥ ƒë·ªìng ƒë·ªÅu hay kh√¥ng.

## 5. ·ª®ng d·ª•ng th·ª±c t·∫ø trong ph√¢n t√≠ch d·ªØ li·ªáu

1. **Kh√°m ph√° d·ªØ li·ªáu (Exploratory Data Analysis - EDA):** Th·ªëng k√™ m√¥ t·∫£ l√† b∆∞·ªõc ƒë·∫ßu ti√™n trong EDA, gi√∫p b·∫°n n·∫Øm r√µ t√¨nh tr·∫°ng d·ªØ li·ªáu.  
2. **Ph√°t hi·ªán d·ªØ li·ªáu l·ªói ho·∫∑c thi·∫øu:** N·∫øu th·∫•y Min ho·∫∑c Max qu√° l·ªách ho·∫∑c Count th·∫•p h∆°n k·ª≥ v·ªçng, b·∫°n bi·∫øt ph·∫£i ki·ªÉm tra l·∫°i.  
3. **Chu·∫©n b·ªã d·ªØ li·ªáu:** T·ª´ th·ªëng k√™ m√¥ t·∫£ b·∫°n s·∫Ω quy·∫øt ƒë·ªãnh c√≥ c·∫ßn x·ª≠ l√Ω d·ªØ li·ªáu nh∆∞ lo·∫°i b·ªè ngo·∫°i l·ªá, chu·∫©n h√≥a hay kh√¥ng.  
4. **B√°o c√°o nhanh**: Gi√∫p c√°c b√™n li√™n quan n·∫Øm ƒë∆∞·ª£c th√¥ng tin c∆° b·∫£n c·ªßa d·ªØ li·ªáu tr∆∞·ªõc khi ƒëi s√¢u.

 ## 6. Tr·∫£ l·ªùi c√°c c√¢u h·ªèi
 - **C√¢u h·ªèi 1: T√¨m c√°c m√¥ t·∫£ v·ªÅ gi√° tr·ªã ƒë∆°n h√†ng, chi ph√≠ v√† ho√†n tr·∫£ ?**

**B∆∞·ªõc 1**: Th·ª±c hi·ªán ch·∫°y ƒëo·∫°n code sau:
 ```
        # C√°c c·ªôt s·ªë c·∫ßn ph√¢n t√≠ch th·ªëng k√™ m√¥ t·∫£
        numeric_columns = ['order_value_EUR', 'refund', 'cost']
        
        # Th·ª±c hi·ªán ph√¢n t√≠ch th·ªëng k√™ m√¥ t·∫£ cho c√°c bi·∫øn s·ªë c·ª• th·ªÉ
        numeric_summary = final_df[numeric_columns].describe()
        numeric_summary
 ```
Ta ƒë∆∞·ª£c k·∫øt qu·∫£ tr·∫£ v·ªÅ nh∆∞ sau:

![image](https://github.com/user-attachments/assets/bfe676f5-9b16-4996-b195-3fbdf34bb87d)

**Gi·∫£i th√≠ch**: D∆∞·ªõi ƒë√¢y l√† ph·∫ßn ph√¢n t√≠ch k·∫øt qu·∫£ c·ª• th·ªÉ
| T√™n ch·ªâ s·ªë | √ù nghƒ©a & Gi·∫£i th√≠ch c·ª• th·ªÉ                                                                                                                                                                          |
| ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **count**  | S·ªë l∆∞·ª£ng b·∫£n ghi c√≥ d·ªØ li·ªáu ·ªü c·ªôt ƒë√≥. V√≠ d·ª•: `order_value_EUR` c√≥ 20 gi√° tr·ªã, `refund` ch·ªâ c√≥ 10 gi√° tr·ªã (c√≥ th·ªÉ do thi·∫øu d·ªØ li·ªáu).                                                                  |
| **mean**   | Trung b√¨nh c·ªông c·ªßa c√°c gi√° tr·ªã trong c·ªôt. VD: Gi√° tr·ªã trung b√¨nh ƒë∆°n h√†ng l√† \~114,046 EUR.                                                                                                         |
| **std**    | ƒê·ªô l·ªách chu·∫©n, ƒëo ƒë·ªô ph√¢n t√°n d·ªØ li·ªáu so v·ªõi trung b√¨nh. Gi√° tr·ªã l·ªõn nghƒ©a l√† d·ªØ li·ªáu ph√¢n b·ªë r·ªông, kh√¥ng t·∫≠p trung. VD: ƒê∆°n h√†ng c√≥ ƒë·ªô l·ªách chu·∫©n \~77,172 EUR, t·ª©c gi√° tr·ªã ƒë∆°n h√†ng r·∫•t bi·∫øn ƒë·ªông. |
| **min**    | Gi√° tr·ªã nh·ªè nh·∫•t trong c·ªôt. VD: ƒê∆°n h√†ng nh·ªè nh·∫•t c√≥ gi√° \~17,524 EUR.                                                                                                                               |
| **25%**    | Gi√° tr·ªã ph√¢n v·ªã 25%, t·ª©c 25% d·ªØ li·ªáu nh·ªè h∆°n ho·∫∑c b·∫±ng gi√° tr·ªã n√†y. VD: 25% ƒë∆°n h√†ng ‚â§ 71,620 EUR.                                                                                                   |
| **50%**    | Gi√° tr·ªã ph√¢n v·ªã 50% hay c√≤n g·ªçi l√† trung v·ªã (median), ƒëi·ªÉm ch√≠nh gi·ªØa d·ªØ li·ªáu khi s·∫Øp x·∫øp. VD: N·ª≠a ƒë∆°n h√†ng c√≥ gi√° tr·ªã ‚â§ 81,680 EUR.                                                                 |
| **75%**    | Gi√° tr·ªã ph√¢n v·ªã 75%, 75% d·ªØ li·ªáu nh·ªè h∆°n ho·∫∑c b·∫±ng gi√° tr·ªã n√†y. VD: 75% ƒë∆°n h√†ng ‚â§ 156,585 EUR.                                                                                                      |
| **max**    | Gi√° tr·ªã l·ªõn nh·∫•t trong c·ªôt. VD: ƒê∆°n h√†ng l·ªõn nh·∫•t l√™n ƒë·∫øn \~296,686 EUR.                                                                                                                             |

**B∆∞·ªõc 2**: V·∫Ω bi·ªÉu ƒë·ªì ph√¢n ph·ªëi(histogram) v√† ƒë∆∞·ªùng m·∫≠t ƒë·ªô(KDE), v·ªõi ƒëo·∫°n code m·∫´u d∆∞·ªõi ƒë√¢y
 ```
# v·∫Ω bi·ªÉu ƒë·ªì ph√¢n ph·ªëi (histogram) v√† ƒë∆∞·ªùng m·∫≠t ƒë·ªô(KDE)
import seaborn as sns
# T·∫°o m·ªôt h√¨nh v·ªõi 3 bi·ªÉu ƒë·ªì con (subplots) theo h√†ng d·ªçc, m·ªói h√†ng m·ªôt c·ªôt, t·ªïng c·ªông 3 bi·ªÉu ƒë·ªì
plt.figure(figsize=(12,4))

# V·∫Ω bi·ªÉu ƒë·ªì ph√¢n ph·ªëi cho 'order_value_EUR'
plt.subplot(1, 3, 1) # 1 h√†ng, 3 c·ªôt, bi·ªÉu ƒë·ªì th·ª© 1
sns.histplot(final_df['order_value_EUR'], kde=True, color='blue', bins=30)  # kde=True ƒë·ªÉ v·∫Ω ƒë∆∞·ªùng m·∫≠t ƒë·ªô ∆∞·ªõc l∆∞·ª£ng x√°c su·∫•t (Kernel density estimate)
plt.title('Order Value Distribution')

# V·∫Ω bi·ªÉu ƒë·ªì ph√¢n ph·ªëi cho 'refund'
plt.subplot(1, 3, 2) # 1 h√†ng, 3 c·ªôt, bi·ªÉu ƒë·ªì th·ª© 2
sns.histplot(final_df['refund'], kde=True, color='orange', bins=30)
plt.title('Refund Distribution')

#v·∫Ω bi·ªÉu ƒë·ªì ph√¢n ph·ªëi cho 'cost'
plt.subplot(1, 3, 3) # 1 h√†ng, 3 c·ªôt, bi·ªÉu ƒë·ªì th·ª© 3
sns.histplot(final_df['cost'], kde=True, color='green', bins=30)
plt.title('Cost Distribution')

# Ch·ªânh ƒë·ªÉ loyout kh√¥ng b·ªã ch·ªìng ch√©o l√™n nhau
plt.tight_layout()
# Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì
plt.show()
```
K·∫øt qu·∫£ c·ªßa bi·ªÉu ƒë·ªì nh∆∞ sau:

![image](https://github.com/user-attachments/assets/bd416a8d-675a-4bb7-9ad0-7611c84a0e3b)

**B∆∞·ªõc 3**: V·∫Ω bi·ªÉu ƒë·ªì h·ªôp (boxplot). 
ƒê√¢y l√† bi·ªÉu ƒë·ªì ƒë·ªÉ tr·ª±c quan h√≥a s·ª± ph√¢n ph·ªëi d·ªØ li·ªáu v√† ph√°t hi·ªán gi√° tr·ªã outlier, v·ªõi ƒëo·∫°n code d∆∞·ªõi ƒë√¢y: 
```
import seaborn as sns
import matplotlib.pyplot as plt

# T·∫°o m·ªôt h√¨nh v·ªõi ba bi·ªÉu ƒë·ªì con (subplots) n·∫±m tr√™n c√πng m·ªôt h√†ng, t·ªïng c·ªông 3 bi·ªÉu ƒë·ªì
plt.figure(figsize=(12, 4))

# V·∫Ω bi·ªÉu ƒë·ªì h·ªôp cho bi·∫øn 'order_value_EUR' trong subplot ƒë·∫ßu ti√™n
plt.subplot(131)  # 1 h√†ng, 3 c·ªôt, bi·ªÉu ƒë·ªì th·ª© 1
sns.boxplot(data=final_df['order_value_EUR'])
plt.title('Order value Boxplot')

# V·∫Ω bi·ªÉu ƒë·ªì h·ªôp cho bi·∫øn 'cost' trong subplot th·ª© hai
plt.subplot(132)  # 1 h√†ng, 3 c·ªôt, bi·ªÉu ƒë·ªì th·ª© 2
sns.boxplot(data=final_df['cost'])
plt.title('Cost Boxplot')

# V·∫Ω bi·ªÉu ƒë·ªì h·ªôp cho bi·∫øn 'refund' trong subplot th·ª© ba
plt.subplot(133)  # 1 h√†ng, 3 c·ªôt, bi·ªÉu ƒë·ªì th·ª© 3
sns.boxplot(data=final_df['refund'])
plt.title('Refund Boxplot')

# CƒÉn ch·ªânh layout ƒë·ªÉ c√°c bi·ªÉu ƒë·ªì kh√¥ng b·ªã ch·ªìng ch√©o, l·ªách nhau
plt.tight_layout()

# Hi·ªÉn th·ªã to√†n b·ªô bi·ªÉu ƒë·ªì
plt.show()
```
K·∫øt qu·∫£ c·ªßa bi·ªÉu ƒë·ªì boxplot nh∆∞ sau:

![image](https://github.com/user-attachments/assets/74d851ab-f137-42fb-ae69-a5983dd1827b)

- Gi√° tr·ªã trung v·ªã (median) - ƒë∆∞·ªùng n·∫±m gi·ªØa h·ªôp
- Ph√¢n v·ªã 25% v√† 75% (Q1 v√† Q3) - r√¨a h·ªôp
- Kho·∫£ng c√°ch gi·ªØa Q1 v√† Q3 (IQR) - ƒë·ªô r·ªông h·ªôp
- C√°c gi√° tr·ªã ngo·∫°i lai (outliers) - ƒëi·ªÉm r·ªùi r·∫°c n·∫±m ngo√†i r√¢u (whiskers)

# III. Kh√°m ph√° ph∆∞∆°ng ph√°p ph√¢n t√≠ch theo nh√≥m
## 1. Ph∆∞∆°ng ph√°p ph√¢n t√≠ch theo nh√≥m l√† g√¨? 
- Ph∆∞∆°ng ph√°p ph√¢n t√≠ch theo nh√≥m l√† c√°ch ph√¢n t√≠ch d·ªØ li·ªáu m√† b·∫°n chia d·ªØ li·ªáu th√†nh c√°c nh√≥m d·ª±a tr√™n c·ªôt ho·∫∑c nhi·ªÅu bi·∫øn ph√¢n lo·∫°i (category variables) ho·∫∑c c√°c ƒëi·ªÅu ki·ªán nh·∫•t ƒë·ªãnh, so s√°nh c√°c nh√≥m ƒë√≥ v·ªõi nhau.
- M·ª•c ƒë√≠ch l√† ƒë·ªÉ hi·ªÉu s·ª± kh√°c bi·ªát, xu h∆∞·ªõng ho·∫∑c m·ªëi li√™n h·ªá gi·ªØa c√°c nh√≥m d·ªØ li·ªáu kh√°c nhau thay v√¨ ph√¢n t√≠ch to√†n b·ªô d·ªØ li·ªáu chung chung

## 2. T·∫°i sao d√πng ph√¢n t√≠ch theo nh√≥m?
- Gi√∫p ph√°t hi·ªán c√°c m·∫´u, ƒë·∫∑c ƒëi·ªÉm ri√™ng bi·ªát c·ªßa t·ª´ng nh√≥m
- Ph√¢n t√≠ch chi ti·∫øt h∆°n, kh√¥ng l√†m m·∫•t th√¥ng tin do d·ªØ li·ªáu toonge h·ª£p chung
- H·ªó tr·ª£ ra quy·∫øt ƒë·ªãnh ch√≠nh x√°c, t·∫≠p trung v√†o nh√≥m ƒë·ªëi t∆∞·ª£ng c·ª• th·ªÉ

## 3. Tr·∫£ l·ªùi c√¢u h·ªèi 
- **C√¢u h·ªèi 1: X√°c ƒë·ªãnh 3 danh m·ª•c s·∫£n ph·∫©m h√†ng ƒë·∫ßu d·ª±a tr√™n c·∫£ gi√° tr·ªã ƒë∆°n h√†ng v√† chi ph√≠ ?**
M·ª•c ƒë√≠ch c·ªßa c√¢u h·ªèi n√†y mu·ªën b·∫°n t√¨m ra nh·ªØng nh√≥m s·∫£n ph·∫©m m√† kh√°ch h√†ng chi nhi·ªÅu nh·∫•t(gi√° tr·ªã ƒë∆°n h√†ng cao) v√† chi ph√≠ cho nh·ªØng nh√≥m n√†y c≈©ng l·ªõn, t·ª©c l√† v·ª´a sinh ra doanh thu cao v·ª´a c√≥ chi ph√≠ ƒë√°ng k·ªÉ.
**B∆∞·ªõc 1**: C·∫ßn ph·∫£i x√°c ƒë·ªãnh danh m·ª•c s·∫£n ph·∫©m h√†ng ƒë·∫ßu d·ª±a tr√™n gi√° tr·ªã ƒë∆°n h√†ng.
```
## X√°c ƒë·ªãnh danh m·ª•c s·∫£n ph·∫©m h√†ng ƒë·∫ßu d·ª±a tr√™n gi√° tr·ªã ƒë∆°n h√†ng
median_order_value = final_df.groupby('category')['order_value_EUR'].median().sort_values(ascending=False) # x·∫øp theo gi√° tr·ªã gi·∫£m d·∫ßn
top_3_order_value = median_order_value
print("Top 3 categories based on median order value:")
print(top_3_order_value)
```
![image](https://github.com/user-attachments/assets/56adc239-a99f-4428-b9b0-73434dead723)

=> Top 3 nh√≥m s·∫£n ph·∫©m theo gi√° tr·ªã ƒë∆°n h√†ng l·ªõn nh·∫•t l√†: Clothing, Accessories, Games
**Gi·∫£i th√≠ch**:
a) ```groupby('category')```:
Chia d·ªØ li·ªáu th√†nh t·ª´ng nh√≥m theo danh m·ª•c s·∫£n ph·∫©m.
V√¨ c√¢u h·ªèi y√™u c·∫ßu ph√¢n t√≠ch d·ª±a tr√™n t·ª´ng nh√≥m danh m·ª•c, n√™n ph·∫£i t√°ch theo nh√≥m.
b)```.median()``` thay v√¨ ```.mean()```:
- Median (trung v·ªã) l√† ch·ªâ s·ªë ƒë·∫°i di·ªán t·ªët h∆°n trong tr∆∞·ªùng h·ª£p c√≥ d·ªØ li·ªáu l·ªách ho·∫∑c c√≥ c√°c gi√° tr·ªã ngo·∫°i lai (outliers).
- V√≠ d·ª•: M·ªôt s·ªë ƒë∆°n h√†ng c·ª±c l·ªõn c√≥ th·ªÉ l√†m tƒÉng gi√° tr·ªã trung b√¨nh (mean) kh√¥ng ph·∫£n √°nh ƒë√∫ng xu h∆∞·ªõng chung c·ªßa kh√°ch h√†ng.
- Median gi√∫p ph·∫£n √°nh ch√≠nh x√°c gi√° tr·ªã trung t√¢m, tr√°nh b·ªã l·ªách b·ªüi c√°c ƒë∆°n h√†ng ƒë·∫∑c bi·ªát.

**B∆∞·ªõc 2**: X√°c ƒë·ªãnh danh m·ª•c s·∫£n ph·∫©m h√†ng ƒë·∫ßu d·ª±a tr√™n chi ph√≠.
```
median_cost = final_df.groupby('category')['cost'].median()
median_cost.sort_values(ascending = False)
```
![image](https://github.com/user-attachments/assets/f33a41d4-5f77-42f5-b1ab-00ca0e6275f6)

=> Top 3 nh√≥m s·∫£n ph·∫©m thep chi ph√≠ l√†: Clothing, Assessories, Games

- **C√¢u h·ªèi 2: X√°c ƒë·ªãnh 3 kh√°ch h√†ng ƒë·∫ßu ƒë√≥ng g√≥p nhi·ªÅu nh·∫•t cho l·ª£i nhu·∫≠n v√† c√≥ s·ªë m≈© cao nh·∫•t?**
**B∆∞·ªõc 1**: X√°c ƒë·ªãnh c√°c kh√°ch h√†ng ƒë·∫ßu d·ª±a tr√™n chi ph√≠.
```
median_customer = final_df.groupby('customer_name')['cost'].median()
median_customer.sort_values(ascending = False)
```
K·∫øt qu·∫£ tr·∫£ v·ªÅ nh∆∞ sau:
![image](https://github.com/user-attachments/assets/461639df-9933-465e-9dfd-9e91f6acb117)

=> 3 kh√°ch h√†ng ƒë√£ ƒë√≥ng g√≥p nhi·ªÅu nh·∫•t l√†: Larkin-Collier, Johns and Sons , Hermiston, Simonis and Wisoky

- **C√¢u h·ªèi 3: C√°c ƒë·∫°i di·ªán b√°n h√†ng n√†o c√≥ giao d·ªãch ho√†n ti·ªÅn cao nh·∫•t cho kh√°ch h√†ng?**
**B∆∞·ªõc 1**" X√°c ƒë·ªãnh c√°c ƒë·∫°i di·ªán nh√£n h√†ng n√†o c√≥ giao d·ªãch ho√†n ti·ªÅn cao nh·∫©t.
```
median_sales_rep = final_df.groupby('sales_rep')['refund'].median()
median_sales_rep.sort_values(ascending=False)
```
![image](https://github.com/user-attachments/assets/09c64239-6f36-4b97-abb3-7b3fa71be423)
=> K·∫øt qua: nh·ªØng ƒë·∫°i di·ªán b√°n h√†ng c√≥ giao d·ªãch ho√†n ti·ªÅn cao nh·∫•t

---

# IV. Kh√°m ph√° ph∆∞∆°ng ph√°p ph√¢n t√≠ch b·∫£ng t·ªïng h·ª£p (Pivot table)
## 1. Ph√¢n t√≠ch b·∫£ng tonoge h·ª£p l√† g√¨?
Ph∆∞∆°ng ph√°p ph√¢n t√≠ch b·∫£ng t·ªïng h·ª£p (pivot table) l√† c√°ch m√† b·∫°n bi·∫øn m·ªôt b·∫£ng d·ªØ li·ªáu d√†i l√™ th√™ th√†nh m·ªôt b·∫£ng ng·∫Øn g·ªçn, s√∫c t√≠ch, gi√∫p b·∫°n d·ªÖ d√†ng t·ªïng h·ª£p, t√≥m t·∫Øt v√† ph√¢n t√≠ch d·ªØ li·ªáu theo c√°c nh√≥m ho·∫∑c ti√™u ch√≠ kh√°c nhau. 

## 2. T·∫°i sao pivot table x·ªãn?
- D·ªÖ d√†ng g·ªôp nh√≥m, t√≠nh t·ªïng, ƒë·∫øm, t√≠nh trung b√¨nh theo nhi·ªÅu chi·ªÅu kh√°c nhau.
- C√≥ th·ªÉ d·ªÖ d√†ng thay ƒë·ªïi c·∫•u tr√∫c b√°o c√°o, k√©o th·∫£ c·ªôt, h√†ng ƒë·ªÉ xem d·ªØ li·ªáu d∆∞·ªõi nhi·ªÅu g√≥c ƒë·ªô.
- T√≠nh nƒÉng m·∫°nh m·∫Ω gi√∫p b·∫°n nhanh ch√≥ng kh√°m ph√° insight m√† kh√¥ng c·∫ßn vi·∫øt nhi·ªÅu d√≤ng code.

## 3. Tr·∫£ l·ªùi c√¢u h·ªèi
- **C√¢u h·ªèi 1:Ai l√† kh√°ch h√†ng trung th√†nh nh·∫•t?**
    - T·∫ßn su·∫•t mua h√†ng (Frequency): Kh√°ch h√†ng mua h√†ng nhi·ªÅu l·∫ßn trong kho·∫£ng th·ªùi gian nh·∫•t ƒë·ªãnh th·ªÉ hi·ªán s·ª± trung th√†nh.
    - Gi√° tr·ªã ƒë∆°n h√†ng trung b√¨nh (Average Order Value): Kh√°ch c√≥ ƒë∆°n h√†ng gi√° tr·ªã cao th∆∞·ªùng c√≥ xu h∆∞·ªõng g·∫Øn b√≥ h∆°n.
    - T·ªïng gi√° tr·ªã mua h√†ng (Customer Lifetime Value - CLV): T·ªïng doanh thu m√† kh√°ch t·∫°o ra trong su·ªët th·ªùi gian l√†m kh√°ch h√†ng.
    - Th·ªùi gian g·∫Øn b√≥ (Tenure): Kho·∫£ng th·ªùi gian k·ªÉ t·ª´ l·∫ßn mua h√†ng ƒë·∫ßu ti√™n ƒë·∫øn l·∫ßn g·∫ßn nh·∫•t.
    - T·ª∑ l·ªá mua l·∫°i (Repeat Purchase Rate): T·ª∑ l·ªá ph·∫ßn trƒÉm s·ªë l·∫ßn kh√°ch h√†ng quay l·∫°i mua th√™m.
    - T·ª∑ l·ªá gi·ªØ ch√¢n kh√°ch h√†ng (Retention Rate): ƒêo l∆∞·ªùng kh√°ch h√†ng duy tr√¨ qua c√°c k·ª≥.
**B∆∞·ªõc 1**: T·∫°o pivot table nh√≥m d·ªØ li·ªáu theo danh m·ª•c s·∫£n ph·∫©m -> t√≠nh doanh s·ªë trung b√¨nh, chi ph√≠ trung b√¨nh cho t·ª´ng nh√≥m ƒë·ªÉ so s√°nh.
```
pivot_table = df.pivot_table(
    index = 'customer_name',
    values = ['order_value_EUR', 'cost'],
    # H√†m t√≠nh t·ªïng h·ª£p: trung v·ªã cho order_value v√† cost, ƒë·∫øm s·ªë l·∫ßn, ƒë·∫øm s·ªë l·∫ßn xu·∫•t hi·ªán t√™n kh√°ch h√†ng
    aggfunc = {
        'order_value_EUR': 'median',
        'cost': 'median',
        'customer_name': 'count'
    }
)

# ƒê·ªïi t√™n c·ªôt
pivot_table = pivot_table.rename(columns={
    'order_value_EUR': 'Median Order Value',
    'cost': 'Median Cost',
    'customer_name': 'Count'
})
# Hi·ªÉn thit b·∫£ng pivot
print(pivot_table)
```
K·∫øt qu·∫£ tr·∫£ v·ªÅ nh∆∞ sau:
![image](https://github.com/user-attachments/assets/504c8faa-60cc-4e23-80cf-b287b41bd634)
**Gi·∫£i th√≠ch**: √ù nghƒ©a c·ªßa b·∫£ng n√†y
- B·∫°n s·∫Ω bi·∫øt ƒë∆∞·ª£c m·ªói kh√°ch h√†ng trung b√¨nh ƒë·∫∑t ƒë∆°n h√†ng bao nhi√™u (gi√° tr·ªã trung v·ªã c·ªßa ƒë∆°n h√†ng).
- Chi ph√≠ trung b√¨nh ph√°t sinh t·ª´ m·ªói kh√°ch h√†ng.
- S·ªë l·∫ßn giao d·ªãch c·ªßa t·ª´ng kh√°ch h√†ng.

**B∆∞·ªõc 2**: Tr·ª±c quan h√≥a d·ªØ li·ªáu pivot table.
```
# Tr·ª±c qunan b·∫£ng pivot
fig, ax1 = plt.subplots(figsize=(12, 6))

# Bi·ªÉu ƒë·ªì ƒë∆∞·ªùng bi·ªÉu di·ªÖn s·ªë l∆∞·ª£ng ƒë∆°n h√†ng (Count)
ax1.plot(pivot_table.index, pivot_table['Count'], color='blue', marker='o', label='Count')
ax1.set_xlabel('Product Category')
ax1.set_ylabel('Count', color='tab:blue')
ax1.tick_params(axis='y', labelcolor='tab:blue')

# T·∫°o tr·ª•c y th·ª© 2 
ax2 = ax1.twinx()

# Bi·ªÉu ƒë·ªì c·ªôt bi·ªÉu di·ªÖn doanh thu v√† chi ph√≠ trung v·ªã
# Bi·ªÉu ƒë·ªì c·ªôt bi·ªÉu di·ªÖn doanh thu v√† chi ph√≠ trung v·ªã
pivot_table[['Median Order Value', 'Median Cost']].plot(
    kind='bar', ax=ax2, width=0.3, color=['tab:orange', 'tab:green']
)

ax2.set_ylabel('Value (EUR)', color='black')
ax2.tick_params(axis='y', labelcolor='black')

# Ti√™u ƒë·ªÅ v√† ch√∫ th√≠ch
plt.title('So s√°nh Median Sales, Median Cost v√† S·ªë ƒë∆°n h√†ng theo danh m·ª•c s·∫£n ph·∫©m')
ax2.legend(loc='upper left')

# Hi·ªÉn thing bi·ªÉu ƒë·ªì
plt.tight_layout()
plt.show()
```
K·∫øt qu·∫£ tr·∫£ v·ªÅ
![image](https://github.com/user-attachments/assets/3beafb52-533a-474f-ab00-2a200d78913e)

**B∆∞·ªõc 3**: ƒê·ªÉ x√°c ƒë·ªãnh kh√°ch h√†ng trung th√†nh, ch√∫ng ta kh√¥ng c·∫ßn ph√¢n t√≠ch to√†n b·ªô danh s√°ch. Thay v√†o ƒë√≥, t·∫ßn su·∫•t mua h√†ng l·∫∑p l·∫°i l√† th∆∞·ªõc ƒëo quan tr·ªçng nh·∫•t. Kh√°ch h√†ng quay l·∫°i nhi·ªÅu l·∫ßn trong m·ªôt kho·∫£ng th·ªùi gian m·ªõi th·ª±c s·ª± trung th√†nh, kh√¥ng ph·∫£i nh·ªØng ng∆∞·ªùi ch·ªâ mua m·ªôt l·∫ßn d√π gi√° tr·ªã ƒë∆°n h√†ng kh√° l·ªõn. 
=> V√¨ v·∫≠y, ta s·∫Øp x·∫øp theo t·∫ßn su·∫•t mua cao nh·∫•t, ch·ªçn top 5 ho·∫∑c top 10 kh√°ch h√†ng ƒë·ªÉ ph√¢n t√≠ch. Sau ƒë√≥ so s√°nh chi ph√≠ v√† doanh s·ªë trung b√¨nh c·ªßa h·ªç ƒë·ªÉ x√°c ƒë·ªãnh nh√≥m kh√°ch h√†ng trung th√†nh t·ªëi ∆∞u c·∫ßn ∆∞u ti√™n. 
```
# X√°c ƒë·ªãnh kh√°ch h√†ng trung th√†nh d·ª±a tr√™n t·∫ßn su·∫•t mua h√†ng
pivot_table = df.pivot_table(
    index = 'customer_name',
    values = ['order_value_EUR', 'cost'],
    aggfunc = {
        'order_value_EUR': 'median',
        'cost': 'median',
        'customer_name': 'count'
    }
)
# ƒê·ªïi t√™n c·ªôt
pivot_table = pivot_table.rename(columns={
    'order_value_EUR': 'Median Order Value',
    'cost': 'Median Cost',
    'customer_name': 'Count'
})
# Hi·ªÉn thit b·∫£ng pivot
sorted_pivot_table = pivot_table.sort_values(by='Count', ascending=False)
top_10 = sorted_pivot_table[0:10]
top_10
```
K·∫øt qu·∫£ tr·∫£ v·ªÅ nh∆∞ sau:
![image](https://github.com/user-attachments/assets/68f1ccc7-f5c1-476d-a0d6-d45285900fac)

**B∆∞·ªõc 4**: V·ªÖ bi·ªÉu ƒë·ªì top 10 kh√°ch h√†ng. 
```
# Bi·ªÉu ƒë·ªì bi·ªÉu th√¨ top 10 kh√°ch h√†ng trung th√†nh
fig, ax1 = plt.subplots(figsize=(12, 6))

# Bi·ªÉu ƒë·ªì ƒë∆∞·ªùng bi·ªÉu di·ªÖn s·ªë l∆∞·ª£ng ƒë∆°n h√†ng (Count)
ax1.plot(top_10.index, top_10['Count'], color='blue', marker='o', label='Count')
ax1.set_xlabel('Product Category')
ax1.set_ylabel('Count', color='tab:blue')
ax1.tick_params(axis='y', labelcolor='tab:blue')

# T·∫°o tr·ª•c y th·ª© 2
ax2 = ax1.twinx()

# Bi·ªÉu ƒë·ªì c·ªôt bi·ªÉu th·ªã doanh thu v√† chi ph√≠ trung v·ªã
top_10[['Median Order Value', 'Median Cost']].plot(
    kind='bar', ax=ax2, width=0.3, color=['tab:orange', 'tab:green']
)
ax2.set_ylabel('Value (EUR)', color='black')
ax2.tick_params(axis='y', labelcolor='black')

# Ti√™u ƒë·ªÅ v√† ch√∫ th√≠ch
plt.title('So s√°nh Median Order Value, Median Cost v√† S·ªë ƒë∆°n h√†ng theo danh m·ª•c s·∫£n ph·∫©m')
ax2.legend(loc='upper left')

# Hi·ªÉn thing bi·ªÉu ƒë·ªì
plt.tight_layout()
plt.show()
```
K·∫øt qu·∫£ hi·ªÉn th·ªã sau:
![image](https://github.com/user-attachments/assets/4b97b622-eb46-4aab-824e-f80917355c05)
=> Kh√°ch h√†ng trung th√†nh nh·∫•t l√†: ```Hessel-Stiedemann```

- Kh√°ch h√†ng trung th√†nh nh·∫•t(t·∫ßn su·∫•t cao nh·∫•t):
  - Hessel-Stiedemann c√≥ s·ªë l·∫ßn mua h√†ng cao nh·∫•t
  - Doanh thu trung v·ªã v√† chi ph√≠ trung v·ªã th√¨ qu√° cao ,cbo th·∫•y ƒë√¢y v·∫´n l√† m·ªôt kh√°ch h√†ng trung th·ª±c ngay k·ªÉ c·∫£ gi√° gi√° tr·ªã k·∫øt.
- Hi·ªáu qu·∫£ l·ª£i nhu·∫≠n cao:
  - Hi·ªáu qu·∫£ l·ª£i nhu·∫≠n cao:
Larkin-Collier: M·∫∑c d√π t·∫ßn su·∫•t kh√¥ng qu√° cao, nh∆∞ng Median_Sales r·∫•t cao, v√† Median_Cost th·∫•p h∆°n r√µ r·ªát, ch·ª©ng t·ªè bi√™n l·ª£i nhu·∫≠n cao, ƒë√¢y l√† m·ªôt kh√°ch h√†ng c√≥ gi√° tr·ªã t√†i ch√≠nh cao d√π kh√¥ng th∆∞·ªùng xuy√™n mua.

---

# IV.Kh√°m ph√° ph∆∞∆°ng ph√°p ph√¢n t√≠ch b·∫£ng ch√©o (crosstabulation)
## 1. Ph∆∞∆°ng ph√°p ph√¢n t√≠ch b·∫£ng ch√©o?
Ph∆∞∆°ng ph√°p ph√¢n t√≠ch b·∫£ng ch√©o (crosstabulation) ‚Äì hay c√≤n g·ªçi l√† b·∫£ng ch√©o (crosstab) ‚Äì l√† m·ªôt k·ªπ thu·∫≠t th·ªëng k√™ d√πng ƒë·ªÉ ph√¢n t√≠ch m·ªëi quan h·ªá gi·ªØa hai (ho·∫∑c nhi·ªÅu) bi·∫øn ph√¢n lo·∫°i (categorical variables) b·∫±ng c√°ch hi·ªÉn th·ªã d·ªØ li·ªáu d∆∞·ªõi d·∫°ng b·∫£ng, trong ƒë√≥:

- C√°c h√†ng ƒë·∫°i di·ªán cho m·ªôt bi·∫øn.
- C√°c c·ªôt ƒë·∫°i di·ªán cho m·ªôt bi·∫øn kh√°c.
- Gi√° tr·ªã trong b·∫£ng th∆∞·ªùng l√† t·∫ßn su·∫•t (frequency) ho·∫∑c t·ª∑ l·ªá ph·∫ßn trƒÉm (percentage) c√°c k·∫øt h·ª£p gi·ªØa c√°c m·ª©c c·ªßa 2 bi·∫øn.

## 2. T·∫°i sao ph·∫£i d√πng ph∆∞∆°ng ph√°p ph√¢n t√≠ch b·∫£ng ch√©o?

|M·ª•c ƒë√≠ch|Gi·∫£i th√≠ch|
|--------|----------|
|So s√°nh ph√¢n b·ªë	|D·ªÖ d√†ng xem ph√¢n b·ªë c·ªßa m·ªôt bi·∫øn theo nh√≥m c·ªßa bi·∫øn kh√°c.|
|Ph√¢n t√≠ch m·ªëi quan h·ªá	|Xem m·ªëi li√™n h·ªá gi·ªØa hai bi·∫øn ph√¢n lo·∫°i: v√≠ d·ª•, gi·ªõi t√≠nh ·∫£nh h∆∞·ªüng ƒë·∫øn lo·∫°i s·∫£n ph·∫©m mua.|
|T√≥m t·∫Øt d·ªØ li·ªáu r√µ r√†ng|	G·ªçn g√†ng, d·ªÖ hi·ªÉu ‚Äì ƒë·∫∑c bi·ªát khi l√†m b√°o c√°o ho·∫∑c dashboard.|
|L√† n·ªÅn t·∫£ng cho ki·ªÉm ƒë·ªãnh th·ªëng k√™|	V√≠ d·ª•: ki·ªÉm ƒë·ªãnh Chi-squared ƒë·ªÉ ki·ªÉm tra ƒë·ªôc l·∫≠p gi·ªØa hai bi·∫øn.|

## 3. Tr·∫£ l·ªùi c√¢u h·ªèi
- **C√¢u 1. D∆∞·ªõi s·ª± qu·∫£n l√Ω c·ªßa nh√¢n vi√™n b√°n h√†ng n√†o, danh m·ª•c s·∫£n ph·∫©m n√†o c√≥ doanh s·ªë b√°n h√†ng cao nh·∫•t?**
**B∆∞·ªõc 1**: Ch·∫°y ƒëo·∫°n code sau.
```
cross_tab = pd.crosstab(final_df['sales_manager'], final_df['category'])
cross_tab
```
K·∫øt qu·∫£ nh∆∞ sau:
![image](https://github.com/user-attachments/assets/d20825ed-f421-42fc-a528-488383f05f45)

**B∆∞·ªõc 2**: Tr·ª±c quan h√≥a b·∫£ng ch√©o(crosstabulation) crosstab d∆∞·ªõi d·∫°ng bi·ªÉu ƒë·ªì nhi·ªát(heatmap) nh∆∞ sau:
```
# Tr·ª±c quan h√≥a b·∫£ng ch√©o b·∫±ng bi·ªÉu ƒë·ªì d·∫°ng nhi·ªát
plt.figure(figsize=(8,6))
sns.heatmap(cross_tab, annot=True, fmt='d', cmap='YlGnBu', cbar=True)
plt.title('Crosstabulation Heatmap')
plt.xlabel('Product category')
plt.ylabel('Sales Manager')

# Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì
plt.show()
```
K·∫øt qu·∫£ tr·∫£ v·ªÅ nh∆∞ sau:
![image](https://github.com/user-attachments/assets/8fd87d11-066b-41ab-b8bf-8e1262c96c70)

---
# V. Kh√°m ph√° ph∆∞∆°ng ph√°p ph√¢n t√≠ch t∆∞∆°ng quan (Correlation)
## 1. Ph∆∞∆°ng ph√°p ph√¢n t√≠ch t∆∞∆°ng quan l√† g√¨?
Ph∆∞∆°ng ph√°p ph√¢n t√≠ch t∆∞∆°ng quan l√† m·ªôt ph∆∞∆°ng ph√°p th·ªëng k√™ d√πng ƒë·ªÉ ƒëo l∆∞·ªùng m·ª©c ƒë·ªô v√† chi·ªÅu h∆∞·ªõng m·ªëi quan h·ªá gi·ªØa hai hay nhi·ªÅu bi·∫øn s·ªë. M·ª•c ti√™u c·ªßa ph∆∞∆°ng ph√°p n√†y l√† x√°c ƒë·ªãnh xem khi m·ªôt bi·∫øn thay ƒë·ªïi th√¨ bi·∫øn c√≤n l·∫°i c√≥ thay ƒë·ªïi theo hay kh√¥ng, v√† n·∫øu c√≥ th√¨ theo chi·ªÅu h∆∞·ªõng n√†o (c√πng chi·ªÅu hay ng∆∞·ª£c chi·ªÅu).
Th√¥ng th∆∞·ªùng, t∆∞∆°ng quan ƒë∆∞·ª£c bi·ªÉu di·ªÖn b·∫±ng h·ªá s·ªë t∆∞∆°ng quan(correlation coefficient) c√≥ gi√° tr·ªã t·ª´ -1 ƒë·∫øn 1. Trong ƒë√≥:

- G·∫ßn 1: m·ªëi quan h·ªá c√πng chi·ªÅu r·∫•t m·∫°nh
- G·∫ßn -1: M·ªëi quan h·ªá ng∆∞·ª£c chi·ªÅu r·∫•t m·∫°nh
- G·∫ßn 0: g·∫ßn nh∆∞ kh√¥ng c√≥ m·ªëi li√™n h·ªá. 

## 2. T·∫°i sao ph·∫£i d√πng t·ªõi ph√¢n t√≠ch t∆∞∆°ng quan?
- Gi√∫p hi·ªÉu ƒë∆∞·ª£c m·ªëi quan h·ªá gi·ªØa c√°c bi·∫øn, xem bi·∫øn n√†o ·∫£nh h∆∞·ªüng t·ªõi bi·∫øn n√†o, ho·∫∑c bi·∫øn n√†o ƒëi c√πng nhau trong d·ªØ li·ªáu.
- Gi√∫p ta ch·ªçn ƒë∆∞·ª£c bi·∫øn ƒë·∫ßu v√†o trong vi·ªác x√¢y d·ª±ng m√¥ h√¨nh h·ªçc m√°y, xem bi·∫øn n√†o c√≥ ·∫£nh h∆∞·ªüng th·ª±c s·ª±, lo·∫°i b·ªè bi·∫øn kh√¥ng li√™n quan. 
- H·ªó tr·ª£ trong vi·ªác ra quy·∫øt ƒë·ªãnh: Gi√∫p ph√¢n t√≠ch d·ªØ li·ªáu d·ªÖ d√†ng h∆°n, th·∫•y ƒë∆∞·ª£c c√°c m·∫´u, xu h∆∞·ªõng quan tr·ªçng.

## 3. Tr·∫£ l·ªùi c√¢u h·ªèi
- **C√¢u 1: T√¨m m·ªëi quan h·ªá gi·ªØa gi√° tr·ªã ƒë∆°n h√†ng, chi ph√≠ v√† s·ªë ti·ªÅn ho√†n l·∫°i?**
**B∆∞·ªõc 1**: Nh·∫≠p ƒëoanj code sau.
 ```
      # T√≠nh ma tr·∫≠n t∆∞∆°ng quan
      correlation_matrix = final_df[['order_value_EUR', 'cost', 'refund']].corr()
      
      # Hi·ªÉn th·ªã ma tr·∫≠n t∆∞∆°ng quan b·∫±ng heatmap
      plt.figure(figsize=(8, 6))
      sns.heatmap(correlation_matrix, annot=True, cmap='coolwarm', linewidths=0.5)
      
      # Thi·∫øt l·∫≠p ti√™u ƒë·ªÅ v√† hi·ªÉn th·ªã
      plt.title('Correlation Matrix between Order Value, Cost, and Refund')
      plt.show()
 ```
![image](https://github.com/user-attachments/assets/8d49fe1c-ddf9-438b-b875-64598f2dfa73)

‚úÖ order_value_EUR v√† cost:
- H·ªá s·ªë t∆∞∆°ng quan: 1.0 ‚û§ T∆∞∆°ng quan thu·∫≠n ho√†n h·∫£o.
Gi·∫£i th√≠ch: M·ªói khi gi√° tr·ªã ƒë∆°n h√†ng tƒÉng th√¨ chi ph√≠ c≈©ng tƒÉng theo ƒë√∫ng t·ª∑ l·ªá. C√≥ th·ªÉ do chi ph√≠ s·∫£n xu·∫•t/ph√¢n ph·ªëi t·ªâ l·ªá thu·∫≠n v·ªõi gi√° tr·ªã ƒë∆°n h√†ng.

üîÅ order_value_EUR v√† refund:
- H·ªá s·ªë t∆∞∆°ng quan: -0.34 ‚û§ T∆∞∆°ng quan ngh·ªãch y·∫øu ƒë·∫øn trung b√¨nh.
Gi·∫£i th√≠ch: Khi gi√° tr·ªã ƒë∆°n h√†ng cao th√¨ kh·∫£ nƒÉng ho√†n ti·ªÅn (refund) c√≥ xu h∆∞·ªõng gi·∫£m nh·∫π. C√≥ th·ªÉ kh√°ch h√†ng mua ƒë∆°n h√†ng l·ªõn th√¨ √≠t c√≥ khi·∫øu n·∫°i ho·∫∑c ƒë·ªïi tr·∫£ h∆°n.

üîÅ cost v√† refund:
H·ªá s·ªë t∆∞∆°ng quan: -0.37 ‚û§ T∆∞∆°ng quan ngh·ªãch y·∫øu ƒë·∫øn trung b√¨nh.

Gi·∫£i th√≠ch: Chi ph√≠ cao th∆∞·ªùng ƒëi k√®m v·ªõi t·ª∑ l·ªá ho√†n ti·ªÅn th·∫•p. C√≥ th·ªÉ chi ph√≠ cao li√™n quan ƒë·∫øn s·∫£n ph·∫©m ch·∫•t l∆∞·ª£ng h∆°n, √≠t b·ªã ho√†n tr·∫£.








